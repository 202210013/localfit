<div class="modern-landing-container">
    <!-- Animated Background -->
    <div class="landing-background">
        <div class="floating-elements">
            <div class="element element-1"></div>
            <div class="element element-2"></div>
            <div class="element element-3"></div>
            <div class="element element-4"></div>
            <div class="element element-5"></div>
            <div class="element element-6"></div>
        </div>
    </div>

    <div class="landing-content">
        <!-- Modern Header -->
        <div class="modern-landing-header">
            <div class="header-brand">
                <div class="brand-container">
                    <i class="fa-solid fa-store brand-icon"></i>
                    <span class="brand-text">LOCALFIT</span>
                </div>
                <div class="brand-tagline">Your Local Marketplace</div>
            </div>
            
            <div class="header-auth">
                <button class="auth-btn login-btn" (click)="goToLogin()">
                    <i class="fa-solid fa-sign-in-alt"></i>
                    <span>Sign In</span>
                </button>
                <button class="auth-btn register-btn" (click)="goToRegister()">
                    <i class="fa-solid fa-user-plus"></i>
                    <span>Join Now</span>
                </button>
            </div>
        </div>

        <!-- Hero Section -->
        <div class="hero-section">
            <div class="hero-content">
                <div class="hero-badge">
                    <i class="fa-solid fa-sparkles"></i>
                    <span>Discover Local Products</span>
                </div>
                
                <h1 class="hero-title">
                    Welcome to <span class="highlight">LocalFit</span>
                    <br>Your Local Marketplace
                </h1>
                
                <p class="hero-description">
                    Discover unique products from local sellers, support your community, 
                    and find exactly what you're looking for in one convenient place.
                </p>
                
                <div class="hero-stats">
                    <div class="stat-item">
                        <div class="stat-number">{{ filteredProducts?.length || 0 }}+</div>
                        <div class="stat-label">Products Available</div>
                    </div>
                    <div class="stat-divider"></div>
                    <div class="stat-item">
                        <div class="stat-number">100+</div>
                        <div class="stat-label">Local Sellers</div>
                    </div>
                    <div class="stat-divider"></div>
                    <div class="stat-item">
                        <div class="stat-number">24/7</div>
                        <div class="stat-label">Available</div>
                    </div>
                </div>
                
                <div class="hero-actions">
                    <button class="cta-primary" (click)="goToRegister()">
                        <i class="fa-solid fa-rocket"></i>
                        <span>Start Shopping</span>
                    </button>
                    <button class="cta-secondary" onclick="document.getElementById('products-section').scrollIntoView({behavior: 'smooth'})">
                        <i class="fa-solid fa-arrow-down"></i>
                        <span>Browse Products</span>
                    </button>
                </div>
            </div>
            
            <div class="hero-visual">
                <div class="visual-card">
                    <div class="card-glow"></div>
                    <i class="fa-solid fa-shopping-bag visual-icon"></i>
                </div>
            </div>
        </div>

        <!-- Modern Products Section -->
        <div id="products-section" class="products-showcase">
            <div class="section-header">
                <div class="section-badge">
                    <i class="fa-solid fa-fire"></i>
                    <span>Featured Products</span>
                </div>
                <h2 class="section-title">Discover Amazing Products</h2>
                <p class="section-description">
                    Browse through our curated collection of local products from trusted sellers
                </p>
            </div>

            <div *ngIf="filteredProducts && filteredProducts.length > 0; else noProductsTemplate" class="modern-products-grid">
                <div class="modern-product-card" *ngFor="let product of filteredProducts">
                    <div class="card-image-container">
                        <img [src]="getImageUrl(product.image)" class="product-card-image" alt="{{ product.name }}">
                        <div class="card-overlay">
                            <button class="overlay-btn" (click)="openModal(product)" title="View Details">
                                <i class="fa-solid fa-eye"></i>
                            </button>
                        </div>
                        <div class="product-badge">New</div>
                    </div>
                    
                    <div class="card-details">
                        <div class="product-info">
                            <h3 class="product-name">{{ product.name }}</h3>
                            <div class="product-price-tag">
                                <span class="currency">₱</span>
                                <span class="price">{{ product.price }}</span>
                            </div>
                        </div>
                        
                        <button class="view-details-btn" (click)="openModal(product)">
                            <i class="fa-solid fa-info-circle"></i>
                            <span>View Details</span>
                        </button>
                    </div>
                </div>
            </div>

            <ng-template #noProductsTemplate>
                <div class="no-products-state">
                    <div class="no-products-content">
                        <i class="fa-solid fa-box-open no-products-icon"></i>
                        <h3 class="no-products-title">No Products Available</h3>
                        <p class="no-products-description">
                            Be the first to discover amazing products when sellers start listing them!
                        </p>
                        <button class="notify-btn" (click)="goToRegister()">
                            <i class="fa-solid fa-bell"></i>
                            <span>Get Notified</span>
                        </button>
                    </div>
                </div>
            </ng-template>
        </div>

    </div>
</div>

<!-- Image Modal -->
<div class="modal1" [ngClass]="{'show': isModalOpen}">
    <button class="close-icon" (click)="closeModal()">
        <i class="fa-solid fa-close"></i>
    </button>
    <div class="modal1-body">
        <div class="full-info">

            <img class="product-image-modal" [src]="selectedProduct ? getImageUrl(selectedProduct.image) : ''">
            <div class="modal1-info">
                <h2>{{ selectedProduct?.name }}</h2>
                <pre class="modal1-desc">{{ selectedProduct?.description }}</pre>
                <div class="modal1-group">
                    <h2>₱ {{ selectedProduct?.price }}</h2>
                    
                </div>
            </div>

        </div>
    </div>
</div>

<!-- image-modal.component.html -->
<!-- <div class="image-modal-container">
    <h2>Image Modal</h2>
    <p>Here, we use CSS to create a modal (dialog box) that is hidden by default.</p>
    <p>We use Angular to trigger the modal and to display the current image inside the modal when it is clicked on.</p>
    <img [src]="imageUrl" alt="Northern Lights, Norway" width="300" height="200" (click)="openModal()"> -->


<!-- </div> -->

<!-- addToCart -->
<div class="modal fade" id="addToCart" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="n-modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="exampleModalLabel">ADD TO CART?</h2>
                    <button class="close-icon-1" (click)="closeModal()" type="button" data-bs-dismiss="modal"
                        aria-label="Close">
                        <i class="fa-solid fa-close"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- Your modal content here -->
                    Login First.
                </div>
                <div class="modal-footer">
                    <button type="button" class="del-btn" (click)="goToLogin()" data-bs-dismiss="modal">Go to
                        Login</button>
                </div>
            </div>
        </div>
    </div>
</div>
<button
  *ngIf="deferredPrompt"
  class="install-pwa-btn"
  (click)="installPWA()"
>
  <i class="fa-brands fa-google-play"></i> Install App
</button>